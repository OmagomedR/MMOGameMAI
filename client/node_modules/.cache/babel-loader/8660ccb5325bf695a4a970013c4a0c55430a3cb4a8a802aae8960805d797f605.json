{"ast":null,"code":"// client/src/TradesList.js\nimport React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TradesList(){const[trades,setTrades]=useState([]);const[error,setError]=useState('');const fetchTrades=async()=>{try{const response=await fetch('http://localhost:4000/game/trades');const data=await response.json();if(response.ok){setTrades(data);}else{setError(data.message||'Failed to load trades');}}catch(err){setError('Network error');console.error('Fetch error:',err);}};useEffect(()=>{fetchTrades();},[]);if(error){return/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error});}return/*#__PURE__*/_jsxs(\"div\",{className:\"trades\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Market\"}),\" \",/*#__PURE__*/_jsx(\"button\",{onClick:()=>fetchTrades(),children:\"refresh\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"trades-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Seller\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:trades.length>0?trades.map((trade,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:trade.Username}),/*#__PURE__*/_jsx(\"td\",{children:trade.userId}),/*#__PURE__*/_jsx(\"td\",{children:trade.trade}),/*#__PURE__*/_jsx(\"td\",{children:trade.type}),/*#__PURE__*/_jsx(\"td\",{children:trade.price.toFixed(2)})]},index)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"3\",children:\"No active trades available\"})})})]})]});}export default TradesList;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","TradesList","trades","setTrades","error","setError","fetchTrades","response","fetch","data","json","ok","message","err","console","style","color","children","className","onClick","length","map","trade","index","Username","userId","type","price","toFixed","colSpan"],"sources":["/Users/magomed/WebstormProjects/MMOGameMAI/client/src/TradeList.js"],"sourcesContent":["// client/src/TradesList.js\nimport React, { useState, useEffect } from 'react';\n\nfunction TradesList() {\n    const [trades, setTrades] = useState([]);\n    const [error, setError] = useState('');\n\n    const fetchTrades = async () => {\n        try {\n            const response = await fetch('http://localhost:4000/game/trades');\n            const data = await response.json();\n\n            if (response.ok) {\n                setTrades(data);\n            } else {\n                setError(data.message || 'Failed to load trades');\n            }\n        } catch (err) {\n            setError('Network error');\n            console.error('Fetch error:', err);\n        }\n    };\n\n    useEffect(() => {\n        fetchTrades();\n    }, []);\n\n\n    if (error) {\n        return <p style={{ color: 'red' }}>{error}</p>;\n    }\n\n    return (\n        <div className=\"trades\">\n            <h3>Market</h3> <button onClick={() => fetchTrades()}>refresh</button>\n            <table className=\"trades-table\">\n                <thead>\n                <tr>\n                    <th>Seller</th>\n                    <th>ID</th>\n                    <th>Amount</th>\n                    <th>Type</th>\n                    <th>Price</th>\n                </tr>\n                </thead>\n                <tbody>\n                {trades.length > 0 ? (\n                    trades.map((trade, index) => (\n                        <tr key={index}>\n                            <td>{trade.Username}</td>\n                            <td>{trade.userId}</td>\n                            <td>{trade.trade}</td>\n                            <td>{trade.type}</td>\n                            <td>{trade.price.toFixed(2)}</td>\n                        </tr>\n                    ))\n                ) : (\n                    <tr>\n                        <td colSpan=\"3\">No active trades available</td>\n                    </tr>\n                )}\n                </tbody>\n            </table>\n        </div>\n    );\n}\n\nexport default TradesList;"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnD,QAAS,CAAAC,UAAUA,CAAA,CAAG,CAClB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACS,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAAW,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,mCAAmC,CAAC,CACjE,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAElC,GAAIH,QAAQ,CAACI,EAAE,CAAE,CACbR,SAAS,CAACM,IAAI,CAAC,CACnB,CAAC,IAAM,CACHJ,QAAQ,CAACI,IAAI,CAACG,OAAO,EAAI,uBAAuB,CAAC,CACrD,CACJ,CAAE,MAAOC,GAAG,CAAE,CACVR,QAAQ,CAAC,eAAe,CAAC,CACzBS,OAAO,CAACV,KAAK,CAAC,cAAc,CAAES,GAAG,CAAC,CACtC,CACJ,CAAC,CAEDjB,SAAS,CAAC,IAAM,CACZU,WAAW,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAGN,GAAIF,KAAK,CAAE,CACP,mBAAON,IAAA,MAAGiB,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,CAAAC,QAAA,CAAEb,KAAK,CAAI,CAAC,CAClD,CAEA,mBACIJ,KAAA,QAAKkB,SAAS,CAAC,QAAQ,CAAAD,QAAA,eACnBnB,IAAA,OAAAmB,QAAA,CAAI,QAAM,CAAI,CAAC,IAAC,cAAAnB,IAAA,WAAQqB,OAAO,CAAEA,CAAA,GAAMb,WAAW,CAAC,CAAE,CAAAW,QAAA,CAAC,SAAO,CAAQ,CAAC,cACtEjB,KAAA,UAAOkB,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC3BnB,IAAA,UAAAmB,QAAA,cACAjB,KAAA,OAAAiB,QAAA,eACInB,IAAA,OAAAmB,QAAA,CAAI,QAAM,CAAI,CAAC,cACfnB,IAAA,OAAAmB,QAAA,CAAI,IAAE,CAAI,CAAC,cACXnB,IAAA,OAAAmB,QAAA,CAAI,QAAM,CAAI,CAAC,cACfnB,IAAA,OAAAmB,QAAA,CAAI,MAAI,CAAI,CAAC,cACbnB,IAAA,OAAAmB,QAAA,CAAI,OAAK,CAAI,CAAC,EACd,CAAC,CACE,CAAC,cACRnB,IAAA,UAAAmB,QAAA,CACCf,MAAM,CAACkB,MAAM,CAAG,CAAC,CACdlB,MAAM,CAACmB,GAAG,CAAC,CAACC,KAAK,CAAEC,KAAK,gBACpBvB,KAAA,OAAAiB,QAAA,eACInB,IAAA,OAAAmB,QAAA,CAAKK,KAAK,CAACE,QAAQ,CAAK,CAAC,cACzB1B,IAAA,OAAAmB,QAAA,CAAKK,KAAK,CAACG,MAAM,CAAK,CAAC,cACvB3B,IAAA,OAAAmB,QAAA,CAAKK,KAAK,CAACA,KAAK,CAAK,CAAC,cACtBxB,IAAA,OAAAmB,QAAA,CAAKK,KAAK,CAACI,IAAI,CAAK,CAAC,cACrB5B,IAAA,OAAAmB,QAAA,CAAKK,KAAK,CAACK,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,CAAK,CAAC,GAL5BL,KAML,CACP,CAAC,cAEFzB,IAAA,OAAAmB,QAAA,cACInB,IAAA,OAAI+B,OAAO,CAAC,GAAG,CAAAZ,QAAA,CAAC,4BAA0B,CAAI,CAAC,CAC/C,CACP,CACM,CAAC,EACL,CAAC,EACP,CAAC,CAEd,CAEA,cAAe,CAAAhB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}